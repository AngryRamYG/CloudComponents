var _amc_progressbar_valueRange=".amc-progressbar-value",_amc_progressbar_changingRange=".amc-progressbar-changingvalue";function updatePosition(e,t,n){var r=t-e.getBoundingClientRect().left-e.querySelector(".amc-progressbar-middle").clientWidth/2;r<0&&(r=0),r>n&&(r=n),e.style.setProperty("grid-template-columns",r+"px max-content 1fr");var a=e.querySelector(_amc_progressbar_valueRange),o=e.querySelector(_amc_progressbar_changingRange),s=r*Number(a.max)/n;o.value=s.toString(),a.value=s.toString();var c=document.createEvent("HTMLEvents");c.initEvent("change",!1,!0),o.dispatchEvent(c)}export function mouseDown(e,t){e.IsUserInput=!0,e.classList.add("_moving");var n=e.querySelector(_amc_progressbar_valueRange),r=n.value,a=e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth;updatePosition(e,t,a);var o=function(t){updatePosition(e,t.clientX,a)};document.addEventListener("mousemove",o);var s=function(){if(e.IsUserInput=!1,e.classList.remove("_moving"),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s),n.value!==r){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),n.dispatchEvent(t)}};document.addEventListener("mouseup",s)}export function touchDown(e,t){e.IsUserInput=!0,e.classList.add("_moving");var n=e.querySelector(_amc_progressbar_valueRange),r=n.value,a=e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth;updatePosition(e,t,a);var o=function(t){updatePosition(e,t.touches[0].clientX,a)};document.addEventListener("touchmove",o);var s=function(){if(e.IsUserInput=!1,e.classList.remove("_moving"),document.removeEventListener("touchmove",o),document.removeEventListener("touchup",s),n.value!==r){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),n.dispatchEvent(t)}};document.addEventListener("touchend",s)}export function repaint(e,t,n){if((!e.IsUserInput||!0!==e.IsUserInput)&&e.querySelector){var r=e.querySelector(_amc_progressbar_valueRange);null==n&&(n=Number(r.max)),null==t&&(t=Number(r.value));var a=t*(e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth)/n;e.style.setProperty("grid-template-columns",a+"px max-content 1fr")}}