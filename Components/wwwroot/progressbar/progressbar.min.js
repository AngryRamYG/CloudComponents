var _amc_progressbar_valueRange=".amc-progressbar-value",_amc_progressbar_changingRange=".amc-progressbar-changingvalue";function updatePosition(e,t,n){var r=t-e.getBoundingClientRect().left-e.querySelector(".amc-progressbar-middle").clientWidth/2;r<0&&(r=0),r>n&&(r=n),e.style.setProperty("grid-template-columns",r+"px max-content 1fr");var o=e.querySelector(_amc_progressbar_valueRange),a=e.querySelector(_amc_progressbar_changingRange),i=r*Number(o.max)/n;a.value=i.toString(),o.value=i.toString();var c=document.createEvent("HTMLEvents");c.initEvent("change",!1,!0),a.dispatchEvent(c)}export function mouseDown(e,t){e.IsUserInput=!0,e.classList.add("_moving");var n=e.querySelector(_amc_progressbar_valueRange),r=n.value,o=e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth;updatePosition(e,t,o);var a=function(t){updatePosition(e,t.clientX,o)};document.addEventListener("mousemove",a);var i=function(){if(e.IsUserInput=!1,e.classList.remove("_moving"),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",i),n.value!==r){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),n.dispatchEvent(t)}};document.addEventListener("mouseup",i)}export function touchDown(e,t){e.IsUserInput=!0,e.classList.add("_moving");var n=e.querySelector(_amc_progressbar_valueRange),r=n.value,o=e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth;updatePosition(e,t,o);var a=function(t){updatePosition(e,t.touches[0].clientX,o)};document.addEventListener("touchmove",a);var i=function(){if(e.IsUserInput=!1,e.classList.remove("_moving"),document.removeEventListener("touchmove",a),document.removeEventListener("touchup",i),n.value!==r){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),n.dispatchEvent(t)}};document.addEventListener("touchend",i)}export function repaint(e,t,n){if((!e.IsUserInput||!0!==e.IsUserInput)&&e.querySelector){var r=e.querySelector(_amc_progressbar_valueRange);null==n&&(n=Number(r.max)),null==t&&(t=Number(r.value));var o=t*(e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth)/n;e.style.setProperty("grid-template-columns",o+"px max-content 1fr")}}export function getInfo(e){var t=e.querySelector(".amc-progressbar-middle");return{SeekButton:{Left:t.clientLeft,Top:t.clientTop,Width:t.clientWidth,Height:t.clientHeight}}}