var _amc_progressbar_valueRange=".amc-progressbar-value",_amc_progressbar_changingRange=".amc-progressbar-changingvalue";function updatePosition(e,t,r){var n=t-e.getBoundingClientRect().left-e.querySelector(".amc-progressbar-middle").clientWidth/2;n<0&&(n=0),n>r&&(n=r),e.style.setProperty("grid-template-columns",n+"px max-content 1fr");var a=e.querySelector(_amc_progressbar_valueRange),o=e.querySelector(_amc_progressbar_changingRange),s=n*Number(a.max)/r;o.value=s.toString(),a.value=s.toString();var u=document.createEvent("HTMLEvents");u.initEvent("change",!1,!0),o.dispatchEvent(u)}export function mouseDown(e,t){e.IsUserInput=!0,e.classList.add("_mousemoving");var r=e.querySelector(_amc_progressbar_valueRange),n=r.value,a=e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth;updatePosition(e,t,a);var o=function(t){updatePosition(e,t.clientX,a)};document.addEventListener("mousemove",o);var s=function(){if(e.IsUserInput=!1,e.classList.remove("_mousemoving"),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s),r.value!==n){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),r.dispatchEvent(t)}};document.addEventListener("mouseup",s)}export function repaint(e,t,r){if((!e.IsUserInput||!0!==e.IsUserInput)&&e.querySelector){var n=e.querySelector(_amc_progressbar_valueRange);null==r&&(r=Number(n.max)),null==t&&(t=Number(n.value));var a=t*(e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth)/r;e.style.setProperty("grid-template-columns",a+"px max-content 1fr")}}