var hiddenInputRange='input[type="range"]';function updatePosition(e,t,n){var r=t-e.getBoundingClientRect().left-e.querySelector(".amc-progressbar-middle").clientWidth/2;r<0&&(r=0),r>n&&(r=n),e.style.setProperty("grid-template-columns",r+"px max-content 1fr");var u=e.querySelector(hiddenInputRange),o=r*Number(u.max)/n;u.value=o.toString()}export function mouseDown(e,t){e.IsUserInput=!0;var n=e.querySelector(hiddenInputRange),r=n.value,u=e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth,o=function(t){updatePosition(e,t.clientX,u)};updatePosition(e,t,u),document.addEventListener("mousemove",o),document.onmouseup=function(){if(e.IsUserInput=!1,document.removeEventListener("mousemove",o),n.value!==r){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),n.dispatchEvent(t)}}}export function repaint(e,t,n){if((!e.IsUserInput||!0!==e.IsUserInput)&&e.querySelector){var r=e.querySelector(hiddenInputRange);null==n&&(n=Number(r.max)),null==t&&(t=Number(r.value));var u=t*(e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth)/n;e.style.setProperty("grid-template-columns",u+"px max-content 1fr")}}