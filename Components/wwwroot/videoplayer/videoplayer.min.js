var VideoInfo=function(){return function(){}}();export function init(e){var t=e.querySelector("video");t.onloadeddata=function(){var e=document.createEvent("HTMLEvents");e.initEvent("load",!1,!0),t.dispatchEvent(e)}}export function getVideoInfo(e){var t=e.querySelector("video"),n=new VideoInfo;return n.Duration=t.duration,n.Width=t.videoWidth,n.Height=t.videoHeight,n}export function setVideoPlaybackSpeed(e,t){e.querySelector("video").playbackRate=t}export function muteVolume(e,t){e.querySelector("video").muted=t}export function changeVolume(e,t){e.querySelector("video").volume=t}export function changeCurrentTime(e,t){e.querySelector("video").currentTime=t}export function play(e){e.querySelector("video").play()}export function pause(e){e.querySelector("video").pause()}export function stop(e){pause(e),e.querySelector("video").currentTime=0}export function enterFullScreen(e){e.requestFullscreen({navigationUI:"hide"})}export function seeking(e,t,n){var r=e.querySelector(".amc-videoplayer-seekinfo"),o=e.querySelector(".amc-videoplayer-seekinfo-container"),i=r.clientWidth,u=Number(window.getComputedStyle(r,null).width.replace("px","")),c=o.clientWidth;if(!n){n=e.querySelector("video").duration;var a=e.querySelector(".amc-videoplayer-progress");t=n*(t-=e.getBoundingClientRect().left)/a.clientWidth}var l=t*i/n-c/2;return l<0?l=0:l+c>u&&(l=u-c),o.style.setProperty("margin-left",l+"px"),t}export function exitFullScreen(e){document.exitFullscreen()}export function registerCustomEventHandler(e,t,n){var r=e.querySelector("video");if(!r||!t)return!1;r.hasOwnProperty("customEvent")||(r.customEvent=function(e,t){var n;this.value=function(e,t,n){if(n&&n.length>0){var r={};for(var o in n){var i=n[o];e[i]&&(r[i]=e[i])}return JSON.stringify({name:t,state:r},function(e,t){return void 0===t||null==t||0===t.length?void 0:t})}return JSON.stringify({name:t})}(this,e,t),"function"==typeof Event?n=new Event("change"):(n=document.createEvent("Event")).initEvent("change",!0,!0),this.dispatchEvent(n)}),r.addEventListener(t,function(){r.customEvent(t,n)})}export function AddReserveAspectRatioListener(e,t,n){var r=function(){var r=e.clientWidth*n/t;e.style.setProperty("height",r+"px")};return r.call(this),window.addEventListener("resize",r),r}export function RemoveReserveAspectRatioListener(e,t){window.removeEventListener("resize",t)}export function setVideoUrl(e,t){return new Promise(function(e,n){var r=document.createElement("video"),o=new Hls;o.attachMedia(r),o.on(Hls.Events.FRAG_LOADED,function(t,n){var r=o.levels[0].details.fragments,i=r[r.length-1];if(i){var u=URL.createObjectURL(i.blob);e(u)}}),o.loadSource(t),o.startLoad()})}