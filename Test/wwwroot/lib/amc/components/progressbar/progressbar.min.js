var hiddenInputRange='input[type="range"]';function updatePosition(e,t,n){var r=t-e.getBoundingClientRect().left-e.querySelector(".amc-progressbar-middle").clientWidth/2;r<0&&(r=0),r>n&&(r=n),e.style.setProperty("grid-template-columns",r+"px max-content 1fr");var o=e.querySelector(hiddenInputRange),u=r*Number(o.max)/n;o.value=u.toString()}export function mouseDown(e,t){e.IsUserInput=!0,e.classList.add("_mousemoving");var n=e.querySelector(hiddenInputRange),r=n.value,o=e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth;updatePosition(e,t,o);var u=function(t){updatePosition(e,t.clientX,o)};document.addEventListener("mousemove",u);var i=function(){if(e.IsUserInput=!1,e.classList.remove("_mousemoving"),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",i),n.value!==r){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),n.dispatchEvent(t)}};document.addEventListener("mouseup",i)}export function repaint(e,t,n){if((!e.IsUserInput||!0!==e.IsUserInput)&&e.querySelector){var r=e.querySelector(hiddenInputRange);null==n&&(n=Number(r.max)),null==t&&(t=Number(r.value));var o=t*(e.clientWidth-e.querySelector(".amc-progressbar-middle").clientWidth)/n;e.style.setProperty("grid-template-columns",o+"px max-content 1fr")}}